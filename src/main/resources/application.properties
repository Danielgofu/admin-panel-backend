# ==================================
# Configuración de Entorno (Local)
# ==================================
# Permite cargar variables desde un archivo .env si existe localmente
spring.config.import=optional:file:.env[.properties]

# ==================================
# Configuración de Datasource (PostgreSQL/Supabase)
# ==================================
# 1. URL Completa del Datasource (Obtenida de la variable de Render)
# La URL completa incluye usuario y contraseña, simplificando la configuración.
spring.datasource.url=${SPRING_DATASOURCE_URL}

# 2. Driver y Modo SSL (Requerido para bases de datos en la nube como Supabase)
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.ssl-mode=require

# ==================================
# Configuración de JPA/Hibernate
# ==================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_DATABASE_PLATFORM}

# ==================================
# Configuración de la Aplicación
# ==================================
# Puerto del servidor (usa la variable de entorno PORT en la nube, 8080 localmente)
server.port=${PORT:8080}

# Secreto JWT (usa la variable de entorno JWT_SECRET)
jwt.secret=${JWT_SECRET:change_me}